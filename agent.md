## Анализ
- Не пытайся угадывать код: архитектуру, структуру, логику, идентификаторы. Получай исходники явно
- Будь краток
- Изучай связанные файлы для понимания контекста
- Предпочитай grep/list_symbols полному чтения файла
- Перед запросом на получение кода проверь, не получал ли ты его ранее
- Если не можешь сам понять код - спроси
- Используй свой внутренний процесс размышления для составления списка изменений. В основном ответе выводи только итоговый план и сам код
- При использовании внешних инструментов (библиотеки, плагины, скрипты, ...) изучай их документацию в интернете перед использованием
- Если тебе нужен доступ в интернет, но его нет, не пытайся решать задачи оффлайн, а остановись и сообщи об этой проблеме

## Общение
- Не объясняй свой код: потребность объяснить код на естественном языке - признак кода низкого качества. Объясняй только причины выбора определённого подхода или написания определённого кода
- Перед редактированием кода получи явное согласие
- Если задача требует изменение большого количества файлов предложи разбить задачу на подзадачи
- Если считаешь, что поставленная задача ухудшит код, объясни почему и запроси явного подтверждения
- Если в результате анализа приходишь к выводу, что нужно использоваться какое то хитрое или нестандартное решение, запроси явного подтверждения

## Редактирование
- Написанный тобой код должен быть корректным и компилируемым/исполняемым
- Будь бережен с уже написанным кодом, не меняй его, если задача этого не требует. Уж точно не надо менять форматирование
- Предпочитай частичное обновление файла полному
- Если считаешь, что перед добавлением нового функционала нужно отрефакторить старый код - предложи
- Будь внимателен с импортами
- Оставляй комментарии толко в крайних случаях
- Размещай аргументы функций и конструкторов при объявлении и вызове по одному на строку
- При вызове функции или конструктора добавляй наименования аргументов всегда, кроме случаев, когда аргумент один и абсолютно очевиден
- Если функция состоит из одного выражения, а её результат не Unit, используй = вместо return
- Избегай импортов через звездочку (*)

## Компиляция/запуск
- Проверяй свои изменения компиляцией/запуском
- Если компиляция/запуск не удалась: изучи причины и доработай код
- Если получаешь одну и ту же ошибку компиляции/запуска более 2 раз начни изучение причин ошибки компиляции/запуска сначала


## Стиль кода

# Инструкции для AI-агента (Meta-Rules)

## 1. Исследование и контекст (RAG Protocol)
- **Context First:** Перед любым изменением изучи связанные файлы (интерфейсы, DI-модули, gradle-конфиги). 
- **No Guessing:** Если путь к файлу или сигнатура метода неизвестны — используй `grep` или `ls`. Запрещено угадывать структуру проекта.
- **Deep Scan:** При работе с Android-проектом всегда проверяй `libs.versions.toml` для контроля версий библиотек.

## 2. Целостность кода
- **No Placeholders:** Категорически запрещено удалять существующий код или заменять его комментариями вида `// ... rest of the code`. Ответ должен содержать полные, рабочие блоки кода.
- **Atomic Operations:** Разбивай сложные задачи на этапы. Не пытайся внедрить фичу в 10 файлов за один проход, если это нарушает стабильность сборки.
- **Self-Correction:** Если предложенное решение требует новых импортов — добавь их автоматически.

## 3. Взаимодействие с окружением
- **Terminal First:** Используй терминал для проверки своих предположений (проверка наличия файлов, поиск текста).
- **Build Validation:** После правок в логике предложи запустить `./gradlew assembleDebug` или соответствующий `check`.
- **Error Analysis:** Если компиляция не удалась, проанализируй логи ошибок в терминале и предложи исправление автоматически.

## 4. Коммуникация и рассуждения
- **Reasoning:** Всегда показывай свои рассуждения (`Thinking`). Объясняй *почему* выбран этот путь, если он затрагивает архитектуру.
- **Conciseness:** В чате будь краток. Минимум вежливости, максимум технической сути. 
- **Stop-Signal:** Если задача противоречит "Архитектурным табу" или контекст неясен — остановись и задай уточняющий вопрос.

## 5. Стиль решения задач
- **Refactor over Patch:** Если код написан плохо, предложи рефакторинг вместо того, чтобы «наслаивать» новую логику поверх грязной.
- **No Over-Engineering:** Не усложняй решение там, где достаточно простого типобезопасного подхода.

## 6. Редактирование кода
- **Keep code style:** Не меняй форматирование уже написанного кода